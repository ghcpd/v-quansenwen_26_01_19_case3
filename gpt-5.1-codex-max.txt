User: ### Role

You are a **senior front-end engineer** specializing in React + TypeScript and modern UI engineering.

---

### Task

Create a **complete front-end project from scratch** for a **Music Playlist Builder** web app (MVP).
The app lets users browse a mock music library, create playlists, add/remove tracks, reorder tracks, and play previews (simulated).

This task evaluates your ability to build a clean, runnable, well-structured front-end project from **0 to 1**.

---

## 1) Product Requirements

### Core Concept

Users can:

* Browse a **music library** (mock data)
* Create and manage **multiple playlists**
* Add tracks to playlists
* Reorder tracks inside a playlist
* “Play” a track preview (UI simulation only — no real audio required)

### Pages (Required)

1. **Library Page**

   * Track list with search + filters
   * “Add to playlist” action per track
2. **Playlists Page**

   * List of playlists
   * Create / rename / delete playlist
3. **Playlist Detail Page**

   * Track list in the playlist
   * Reorder tracks (drag-and-drop OR up/down buttons)
   * Remove track
   * Play preview (simulated player UI)
4. **Now Playing Drawer/Bar (Global UI)**

   * Shows current track, play/pause state, progress bar (mock)

---

## 2) Functional Requirements

### Music Library

* Provide at least **40 mock tracks** with fields:

  * id, title, artist, album, durationSec, coverImageUrl, genre, year
* Must support:

  * Search by title/artist
  * Filter by genre
  * Sort by: newest, duration, title (A–Z)

### Playlists

* Users can:

  * Create playlist (name required, validation)
  * Rename playlist
  * Delete playlist (confirm dialog)
  * Add track to a playlist (prevent duplicate tracks in a playlist)
  * Remove track from playlist
  * Reorder tracks in playlist
* Display:

  * Track count
  * Total duration (sum of durationSec)

### Player (Simulated)

* Play/pause toggles state
* Progress bar advances using a timer (e.g., setInterval) while “playing”
* Next/Previous track within the **current playlist**
* If a playlist is deleted while playing, handle gracefully (stop playback)

---

## 3) UI / UX Requirements

* Modern, clean, music-app aesthetic
* Responsive design (mobile + desktop)
* Clear empty states:

  * No playlists yet
  * Playlist has no tracks
  * Search yields no results
* Toast or inline feedback for key actions:

  * “Added to playlist”
  * “Already in playlist”
  * “Playlist created”
* Basic accessibility:

  * Buttons have labels
  * Keyboard focus styles are visible

---

## 4) Technical Requirements

### Stack

* React + TypeScript
* Build tool: **Vite** (preferred)
* Routing: React Router
* State management: React hooks + Context (no Redux)
* Styling: choose ONE and be consistent:

  * Tailwind CSS OR CSS Modules OR styled-components

### Data

* No backend.
* Use mock data locally.
* Persist playlists and “now playing” state to **localStorage**.

### Engineering Discipline

* Must use a clean folder structure like:

```
src/
  components/
  pages/
  context/
  hooks/
  data/
  utils/
  types/
  styles/
  App.tsx
  main.tsx
```

* Use TypeScript interfaces/types for core entities
* No dead code, no TODO placeholders

---

## 5) Deliverables (Must Output All)

1. **Project Overview**

   * What the app does
   * MVP scope and non-goals
2. **Feature List**

   * Core + nice-to-have future features
3. **Page-by-page Breakdown**
4. **Component Breakdown**

   * Key components and responsibilities
5. **Folder Structure**
6. **Implementation**

   * Provide the **actual code** for the project:

     * `package.json` (scripts included)
     * `vite` setup notes
     * all required `src/` files
7. **Run Instructions**

   * Clear steps to install and start
8. **Quick Manual Test Checklist**

   * Steps to verify key flows

---

## 6) Constraints

* Do NOT use a real audio API or external streaming service
* Do NOT call real network endpoints
* Do NOT reference or clone any existing music product branding
* Must be runnable locally with minimal steps

GitHub Copilot: Read [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/context)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/hooks)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/data)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/utils)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/types)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/styles)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/package.json)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/tsconfig.json)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/tsconfig.node.json)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/vite.config.ts)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/index.html)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/types/index.ts)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/data/tracks.ts)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/utils/duration.ts)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/utils/storage.ts)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/utils/ids.ts)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/hooks/useToast.ts)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/hooks/useInterval.ts)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/context/PlaylistContext.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/context/PlayerContext.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/main.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/App.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/styles/global.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/Layout.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/Layout.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/NavBar.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/NavBar.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/NowPlayingBar.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/NowPlayingBar.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/ToastStack.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/ToastStack.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/EmptyState.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/EmptyState.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/TrackCard.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/TrackCard.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/PlaylistCard.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/PlaylistCard.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/PlaylistTrackRow.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/components/PlaylistTrackRow.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages/LibraryPage.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages/LibraryPage.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages/PlaylistsPage.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages/PlaylistsPage.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages/PlaylistDetailPage.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages/PlaylistDetailPage.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages/NotFoundPage.tsx)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/pages/NotFoundPage.module.css)

Created [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src/vite-env.d.ts)

Read [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max)

Read [](file:///c%3A/Users/v-quansenwen/work/UI/new-0119/gpt-5.1-codex-max/src)

Using "Apply Patch"


```

```
**Project Overview**
- Music Playlist Builder SPA built with React + TypeScript + Vite and CSS Modules. Users browse a 40-track mock library, create/manage playlists, reorder tracks, and run a simulated player with a global now-playing bar. No external APIs or audio playback.

**Feature List**
- Core: library search/filter/sort; playlist create/rename/delete (with confirm); add/remove tracks (no duplicates); reorder tracks; simulated play/pause/prev/next with progress; localStorage persistence for playlists and player.
- Nice-to-have (future): drag-and-drop reordering, sharing/exporting playlists, multi-select add, waveform/progress scrubbing with thumbnails, theme switcher, keyboard shortcuts.

**Page Breakdown**
- Library: search title/artist, filter by genre, sort (newest/duration/title), add-to-playlist per track with feedback.
- Playlists: create/rename/delete playlists, view counts/durations.
- Playlist Detail: view tracks, play preview, reorder via up/down, remove tracks, empty state guidance.
- Global Now Playing Bar: shows current track/playlist, play/pause/prev/next/stop, seek slider, progress times.
- Not Found: fallback route.

**Component Breakdown**
- Layout + NavBar + NowPlayingBar glue the app shell and global player.
- TrackCard renders library entries with playlist selector and add action.
- PlaylistCard shows playlist summary with rename/delete actions.
- PlaylistTrackRow handles per-track controls inside a playlist (play, reorder, remove).
- EmptyState reusable empty UI; ToastStack surfaces action feedback.

**Folder Structure**
- Core app: App.tsx, main.tsx
- Data/types/utils: tracks.ts, index.ts, utils
- State: PlaylistContext.tsx, PlayerContext.tsx
- Hooks: useToast.ts, useInterval.ts
- UI: components, pages, global.css
- Vite/TS config: package.json, vite.config.ts, tsconfig.json, index.html

**Implementation Notes**
- Library data: 40 mock tracks with full metadata in tracks.ts; helper `trackMap` and genre list provided.
- Persistence: playlists and player state saved to localStorage via storage.ts.
- Playlist management: creation/rename/delete/reorder/add/remove in PlaylistContext.tsx with duplicate prevention.
- Player simulation: interval-driven progress/next/prev/seek in PlayerContext.tsx; gracefully stops if playlist/track disappears.
- Styling: CSS Modules plus global theme in global.css; responsive layouts and focus styles included.

**Run Instructions**
- Install: `npm install`
- Dev server: `npm run dev` (Vite)
- Build: `npm run build`; Preview: `npm run preview`
- Type check: `npm run lint` (tsc no-emit)

**Quick Manual Test Checklist**
- Create playlist with a valid name; see toast “Playlist created”.
- Attempt duplicate name; see validation warning.
- Add a track from Library to a playlist; see success toast; try adding same track again to confirm “Already in playlist”.
- Search/filter/sort in Library updates results and empty state appears when nothing matches.
- Open a playlist, play a track; verify Now Playing bar shows metadata, play/pause, next/prev obey playlist order, stop resets.
- Reorder tracks up/down and confirm order updates.
- Remove a track; toast shows and list updates; playlist empty state shows when last track removed.
- Rename playlist via prompt; delete playlist with confirmation; if deleting the currently playing playlist, playback stops gracefully.
- Refresh page to confirm playlists and now-playing state persist from localStorage.

Made changes.